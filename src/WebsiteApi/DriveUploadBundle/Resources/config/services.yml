services:
  driveupload.upload:
    class: WebsiteApi\DriveUploadBundle\Services\UploadFile
    arguments: ["@driveupload.resumable", %DRIVE_SALT%]

  driveupload.storemanager:
    class: WebsiteApi\DriveUploadBundle\Services\Storage\StorageManager
    arguments: [%aws%, %openstack%, %kernel.root_dir%]

  driveupload.download:
    class: WebsiteApi\DriveUploadBundle\Services\DownloadFile
    arguments: ["@driveupload.resumable"]

  driveupload.resumable:
    class: WebsiteApi\DriveUploadBundle\Services\Resumable\Resumable
    arguments: ["@app.twake_doctrine","@driveupload.storemanager", "@app.drive_refacto", %drive_previews_tmp_folder%, %drive_tmp_folder%]

  driveupload.preview:
      class: WebsiteApi\DriveUploadBundle\Services\DrivePreview
      arguments: ["@app.twake_doctrine"]

  driveupload.previewmanager:
    class: WebsiteApi\DriveUploadBundle\Services\PreviewManager
    arguments: ["driveupload.preview", %drive_previews_tmp_folder%]