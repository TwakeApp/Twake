@company_id = bcfe2f79-8e81-42a3-b551-3a32d49b2b4c 
@workspace_id = 3328552c-5ccd-4172-b84a-d876d56aa71b
@baseURL = http://localhost:8000/internal/services/channels/v1
@channelsURL = {{baseURL}}/companies/{{company_id}}/workspaces/{{workspace_id}}

# @name login
GET {{baseURL}}/auth/login

### List channels

@authToken = {{login.response.body.token}}
GET {{channelsURL}}/channels
Content-Type: application/json
Authorization: Bearer {{authToken}}

### Create a channel

# @name createChannel
POST {{channelsURL}}/channels/
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
   "resource": {
        "name": "FT- Twake",
        "icon": "twake logo",
        "description": "this channel allow twake's team to chat easily",
        "channel_group": "twake",
        "visibility": "public",
        "is_default": true,
        "archived": false
        
    }
}

### Get a single channel

@getId = {{createChannel.response.body.resource.id}}

GET {{channelsURL}}/channels/{{getId}}

### Update a channel

@updateId = {{createChannel.response.body.resource.id}}

POST {{channelsURL}}/channels/{{updateId}}
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
   "resource": {
        "name": "modified",
        "icon": "modified",
        "description": "modified",
        "channel_group": "modified",
        "visibility": "modified",
        "is_default": false,
        "archived": true
    }
}

### Delete a channel

@deleteId = {{createChannel.response.body.resource.id}}

DELETE {{channelsURL}}/channels/{{deleteId}}
