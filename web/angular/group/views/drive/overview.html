<div ng-controller="overviewDriveFileCtrl as overviewDriveFile" style="color: white; width: 100%; height: 100%; padding: 30px;">

    <div class="icon-close close-button" ng-click="overviewDriveFile.overview.close();"></div>

    <div style="display: flex;height: 100%; justify-content: center">
        <div style="height: 100%;width: 100%;max-width:900px">
            <div ng-show="{{overviewDriveFile.fileType == 'image'}}" style="background-image: url({{ overviewDriveFile.fileUrl }}); background-size: contain; background-repeat: no-repeat; background-position: center; height: 100%"></div>

            <div ng-show="{{overviewDriveFile.fileType == 'code' || overviewDriveFile.fileType == ''}}" style="position: relative;height: 100%;width: 100%">
                <div scrollbar class="scroller" style="position:absolute;height:100%;width:100%;margin-bottom: 50px">
                    <div style="height: 100%" ui-ace="{showGutter: true, useWrapMode : false, theme:'terminal'}" readonly ng-model="overviewDriveFile.fileContent"></div>
                </div>
            </div>
	        <div ng-show="{{overviewDriveFile.fileType == 'text'}}" style="position: relative;height: 100%;width: 100%">
		        <div scrollbar class="scroller" style="position:absolute;height:100%;width:100%;margin-bottom: 50px">
			        <div style="height: 100%" ui-ace="{showGutter: true, useWrapMode : true, theme:'terminal'}" readonly
			             ng-bind-html="overviewDriveFile.fileContent"></div>
		        </div>
	        </div>
	        <div ng-show="{{overviewDriveFile.fileType == 'iframe'}}"
	             style="position: relative;height: 100%;width: 100%">
		        <iframe src="{{overviewDriveFile.fileUrl}}" style="border: 0;width: 100%;height: 100%;"></iframe>
	        </div>
	        <div ng-show="{{overviewDriveFile.fileType == 'big'}}"
	             style="position: relative;width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; justify-content: center">
		        <div style="width: 100%;">Le fichier est trop lourd pour être visualisé.</div>
	        </div>
	        <div ng-show="{{overviewDriveFile.fileType == 'none'}}"
	             style="position: relative;width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; justify-content: center">
		        <div style="width: 100%;">Aucune prévisualisation n'est possible pour ce type de fichier</div>
	        </div>
        </div>
        <div style="height: 100%;min-width: 300px; width: 300px;padding: 20px; margin-top: 30px; display: flex; flex-direction: column; justify-content: center;">
            <div class="overview-title overview-separation" style="padding-top: 20px;">Nom</div><div class="overview-details overview-separation">{{overviewDriveFile.file.name}}</div>
            <div class="overview-title overview-separation">Format</div><div class="overview-details overview-separation">{{overviewDriveFile.fileExtension | uppercase}}</div>
            <div class="overview-title overview-separation">Taille</div><div class="overview-details overview-separation">{{overviewDriveFile.fileSize}}</div>

            <div ng-show="overviewDriveFile.fileType == 'text' || overviewDriveFile.fileType == 'code'">
                <div class="overview-title overview-separation">Nombre de lignes</div><div class="overview-details overview-separation">{{overviewDriveFile.fileLineCount}}</div>
            </div>

            <div ng-show="{{overviewDriveFile.fileType == 'image'}}">
                <div ng-show="overviewDriveFile.file.width != 0 && overviewDriveFile.file.height > 0">
                    <div class="overview-title overview-separation">Resolution</div><div class="overview-details overview-separation">{{overviewDriveFile.file.width}} x {{overviewDriveFile.file.height}} px</div>
                </div>
            </div>
            <div style="padding: 20px;" class="overview-separation">
                <div class="btn btn-primary" style="height: 40px;line-height: 25px;width: 100px;" ng-click="overviewDriveFile.download()">Télécharger</div>
	            <div class="btn" style="height: 40px;line-height: 25px;margin-top: 10px;"
	                 ng-show="cgroup.data.apps_filestypes[overviewDriveFile.file.extension.toLowerCase()]"
	                 ng-click="overviewDriveFile.open()">Ouvrir avec
		            {{cgroup.data.apps_filestypes[overviewDriveFile.file.extension.toLowerCase()].name }}
	            </div>
            </div>
        </div>
    </div>
</div>